{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["class Req {\r\n  constructor({headers = {}, requestProcessors = [], responseProcessors = []} = {}) {\r\n    this.options = {};\r\n    this.options.headers = headers;\r\n    this.options.mode = \"cors\";\r\n\r\n    this.requestProcessors = requestProcessors;\r\n    this.responseProcessors = responseProcessors;\r\n\r\n    Object.freeze(this.options);\r\n  }\r\n\r\n  send({method, url, body, options} = {}) {\r\n    var _options = {headers: this.options.headers, mode: this.options.mode, method: method};\r\n\r\n    if (body) _options.body = body;\r\n\r\n    if (options) {\r\n      for (let key1 in options) {\r\n        if (key1 === \"headers\") for (let key2 in options.headers) _options.headers[key2.toLowerCase()] = options.headers[key2];\r\n        else _options[key1] = options[key1];\r\n      }\r\n    }\r\n\r\n    this.requestProcessors.forEach((f) => {\r\n      f.call(_options);\r\n    });\r\n\r\n    return fetch(new Request(url, _options)).then((response) => {\r\n      return this.responseProcessors.reduce((response, postProcessors) => {\r\n        return response.then(postProcessors);\r\n      }, Promise.resolve(response));\r\n    });\r\n  }\r\n\r\n  get(url, options) {\r\n    return this.send({method: \"GET\", url, options});\r\n  }\r\n\r\n  delete(url, options) {\r\n    return this.send({method: \"DELETE\", url, options});\r\n  }\r\n\r\n  post(url, body, options) {\r\n    return this.send({method: \"POST\", url, body, options});\r\n  }\r\n\r\n  put(url, body, options) {\r\n    return this.send({method: \"PUT\", url, body, options});\r\n  }\r\n\r\n  patch(url, body, options) {\r\n    return this.send({method: \"PATCH\", url, body, options});\r\n  }\r\n}"]}